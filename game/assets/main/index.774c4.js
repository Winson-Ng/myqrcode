System.register("chunks:///_virtual/bg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameContext.ts","./Enums.ts","./Utils.ts"],(function(t){var e,i,n,o,s,r,c,a,h,p,d,l,g,u,m,f,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.Enum,a=t.director,h=t.Canvas,p=t.UITransform,d=t.Sprite,l=t.instantiate,g=t.Component},function(t){u=t.GameContext},function(t){m=t.MoveDirection,f=t.GameStatus},function(t){v=t.Utils}],execute:function(){var C,b,y,S,L;s._RF.push({},"16bc1sZpUxDtbPKB6ZcizLG","bg",void 0);var M=r.ccclass,w=r.property;t("bg",(C=M("bg"),b=w({type:c(m)}),C((L=e((S=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"direction",L,o(e)),e}i(e,t);var s=e.prototype;return s.start=function(){},s.adjustLayout=function(){var t=a.getScene().getComponentInChildren(h).getComponent(p).contentSize,e=this.node.children[0];if(v.isLanscape()){var i=e.getComponent(d);i.spriteFrame=v.rotateSpriteFrame(i.spriteFrame),this.direction=m.MoveLeft}this.node.getComponent(p).setContentSize(t),e.getComponent(p).setContentSize(t),e.setPosition(0,0)},s.onLoad=function(){this.adjustLayout();var t=this.node.children[0],e=l(t);e.scale=t.scale,e.parent=this.node,e.active=!0,this.direction==m.MoveLeft?e.setPosition(t.position.x+t.getComponent(p).contentSize.width,t.position.y):this.direction==m.MoveDown&&e.setPosition(t.position.x,t.position.y+t.getComponent(p).contentSize.height),e.setSiblingIndex(t.getSiblingIndex())},s.setBackGroundFrame=function(t){null!=t&&(v.isLanscape()&&(t=v.rotateSpriteFrame(t)),this.node.children[0].getComponent(d).spriteFrame=t,this.node.children.length>=2&&(this.node.children[1].getComponent(d).spriteFrame=t))},s.update=function(t){if(u.instance.gameStatus!=f.Pause&&this.node.children.length>=2){var e=this.node.children[0],i=e.getComponent(p).contentSize,n=this.node.children[1],o=e.position.x,s=n.position.x,r=e.position.y,c=n.position.y;this.direction==m.MoveLeft||this.direction==m.MoveRight?(console.log("bg1X="+o+", bg2X="+s),(o<=-i.width||o>=i.width)&&(o=0),this.direction==m.MoveLeft?o-=1:o+=1,s=o<0?o+i.width:o-i.width,e.setPosition(o,0),n.setPosition(s,0)):this.direction!=m.MoveDown&&this.direction!=m.MoveUp||(console.log("bg1Y="+r+", bg2Y="+c),(r<=-i.height||r>=i.height)&&(r=0),this.direction==m.MoveDown?r-=1:r+=1,c=r<0?r+i.height:r-i.height,e.setPosition(0,r),n.setPosition(0,c))}},e}(g)).prototype,"direction",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.MoveDown}}),y=S))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./YMoveable.ts","./gameContext.ts"],(function(t){var e,n,r,i,a,o,s,l,u,c,p,y,f,h,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.CCBoolean,l=t.Enum,u=t.Sprite,c=t.tween,p=t.v3},function(t){y=t.BulletTargetType,f=t.GameStatus},function(t){h=t.YMoveable},function(t){m=t.GameContext}],execute:function(){var d,g,b,v,T,C,S;a._RF.push({},"c337aTEpwZG/YD/Sg1t5qka","bullet",void 0);var w=o.ccclass,B=o.property;t("Bullet",(d=w("Bullet"),g=B(s),b=B({type:l(y)}),d((C=e((T=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).sender=null,e.damage=0,e.speed=100,r(e,"hasAnimation",C,i(e)),r(e,"targetType",S,i(e)),e}n(e,t);var a=e.prototype;return a.useSkin=function(t){this.node.getComponent(u).spriteFrame=t},a.start=function(){t.prototype.start.call(this),this.hasAnimation&&c(this.node).repeatForever(c().by(.3,{scale:p(1,1,1)}).by(.3,{scale:p(-1,-1,-1)})).start()},a.update=function(e){m.instance.gameStatus!=f.Pause&&t.prototype.update.call(this,e)},a.onCollisionEnter=function(t,e){this.node.destroy()},e}(h)).prototype,"hasAnimation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=e(T.prototype,"targetType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.ToEnemy}}),v=T))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/button.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var n,t,c,e,l,u;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,c=o._decorator,e=o.Node,l=o.director,u=o.Component}],execute:function(){var i;t._RF.push({},"8c630TAXyZC1YLLyuZlQLD4","button",void 0);var r=c.ccclass;c.property,o("button",r("button")(i=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var c=t.prototype;return c.start=function(){},c.update=function(o){},c.onLoad=function(){console.log("button.onLoad"),this.node.on(e.EventType.TOUCH_END,this.onBtnClick,this)},c.onBtnClick=function(o){l.loadScene("gameplay",(function(o,n){console.log("loadScene callback"),console.log(o),console.log(n)})),console.log("click"),console.log(o)},t}(u))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/dialog.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,a,s,u,l,c,p,d,g,f,m,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Label,u=t.Button,l=t.Layout,c=t.resources,p=t.Prefab,d=t.instantiate,g=t.director,f=t.Canvas,m=t.Component,b=t.Node}],execute:function(){var h,v,C,y,D,N,w,z,B,L,P;r._RF.push({},"b78dbLdMwtDv4A8HN7MK3R4","dialog",void 0);var _=a.ccclass,I=a.property;t("Dialog",(h=_("Dialog"),v=I(s),C=I(s),y=I(u),D=I(l),h((z=e((w=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"titleNode",z,i(e)),o(e,"messageNode",B,i(e)),o(e,"defaultButton",L,i(e)),o(e,"buttonsContainer",P,i(e)),e.autoDismiss=!0,e.pauseGame=!1,e.title=null,e.message=null,e.buttons=[],e}n(e,t),e.show=function(t,n,o,i,r){return void 0===i&&(i=!0),void 0===r&&(r=!1),new Promise((function(a,s){c.load("prefabs/ui/dialog",p,(function(s,u){console.log(s);var l=d(u);l.getComponent(e).title=t,l.getComponent(e).message=n,l.getComponent(e).buttons=o,l.getComponent(e).autoDismiss=i,l.getComponent(e).pauseGame=r,l.setPosition(0,0),l.parent=g.getScene().getComponentInChildren(f).node,l.active=!0,a(l.getComponent(e))}))}))};var r=e.prototype;return r.start=function(){},r.dismiss=function(){this.node.destroy()},r.onLoad=function(){var t=this;this.titleNode.string=this.title,this.messageNode.string=this.message,this.defaultButton.node.active=!1;for(var e=null,n=function(){var n=t.buttons[o],i=d(t.defaultButton.node);i.getComponentInChildren(s).string=n.label,i.on(b.EventType.TOUCH_END,(function(e){null!=n.action&&n.action(e,t),t.autoDismiss&&t.dismiss()}),t),o%2==0&&((e=d(t.buttonsContainer.node.getComponentInChildren(l).node)).parent=t.buttonsContainer.node,e.active=!0),i.parent=e,i.active=!0},o=0;o<this.buttons.length;o++)n()},r.update=function(t){},e}(m)).prototype,"titleNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(w.prototype,"messageNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(w.prototype,"defaultButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(w.prototype,"buttonsContainer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=w))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YMoveable.ts","./bullet.ts","./explosion.ts","./Enums.ts","./gameContext.ts"],(function(e){var t,n,o,i,r,a,l,s,u,c,p,h,b,f,d,m,g,v,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.CCInteger,s=e.Prefab,u=e.instantiate,c=e.UITransform,p=e.director,h=e.Canvas},function(e){b=e.YMoveable},function(e){f=e.Bullet},function(e){d=e.Explosion},function(e){m=e.MoveDirection,g=e.GameStatus,v=e.BulletTargetType},function(e){y=e.GameContext}],execute:function(){var C,S,P,T,x,D,z,E,I,M,w;r._RF.push({},"6f69ed4fTNFB66EPcesGUOT","enemy",void 0);var B=a.ccclass,Y=a.property;e("Enemy",(C=B("Enemy"),S=Y(l),P=Y(l),T=Y(s),x=Y(s),C((E=t((z=function(e){function t(){var t;return(t=e.call(this)||this).bulletInterval=1,o(t,"bulletSpeed",E,i(t)),o(t,"bulletDamage",I,i(t)),t.lastShootTime=0,o(t,"explosionPrefab",M,i(t)),o(t,"bulletPrefab",w,i(t)),t.target=void 0,t.direction=m.MoveDown,t}n(t,e);var r=t.prototype;return r.start=function(){e.prototype.start.call(this),this.lastShootTime=this.bulletInterval},r.update=function(t){y.instance.gameStatus!=g.Pause&&(e.prototype.update.call(this,t),this.lastShootTime+=t,this.lastShootTime>=this.bulletInterval&&(y.instance.randomEnemyShoot()&&this.shoot(),this.lastShootTime=0))},r.onCollisionEnter=function(e,t){if(this.node.active){if(this.node.active=!1,this.explosionPrefab){var n=u(this.explosionPrefab);n.setPosition(this.node.position),n.parent=this.node.parent,n.getComponent(c).setContentSize(this.node.getComponent(c).contentSize),n.getComponent(d).removeDelay=.2,n.active=!0}null!=this.destoryCallback&&this.destoryCallback(this),this.node.destroy()}},r.shoot=function(){if(null!=this.target&&null!=this.target.node){var e=u(this.bulletPrefab);e.parent=this.node.parent,e.setPosition(this.node.position);var t=e.getComponent(f);t.sender=this,t.damage=this.bulletDamage,t.speed=this.bulletSpeed,t.direction=m.MoveXY,t.targetType=v.ToPlayer,t.targetXY=p.getScene().getComponentInChildren(h).getComponent(c).convertToWorldSpaceAR(this.target.node.position)}},t}(b)).prototype,"bulletSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),I=t(z.prototype,"bulletDamage",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),M=t(z.prototype,"explosionPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(z.prototype,"bulletPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=z))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/Enums.ts",["cc"],(function(e){var t,o;return{setters:[function(e){t=e.cclegacy,o=e._decorator}],execute:function(){t._RF.push({},"9fed7/9ucBJqLBU5RhQOCve","Enums",void 0);o.ccclass,o.property,e("MoveDirection",function(e){return e[e.MoveDown=0]="MoveDown",e[e.MoveUp=1]="MoveUp",e[e.MoveLeft=2]="MoveLeft",e[e.MoveRight=3]="MoveRight",e[e.MoveXY=4]="MoveXY",e}({})),e("BulletTargetType",function(e){return e[e.ToAll=0]="ToAll",e[e.ToPlayer=1]="ToPlayer",e[e.ToEnemy=2]="ToEnemy",e}({})),e("GameStatus",function(e){return e[e.Start=0]="Start",e[e.Playing=1]="Playing",e[e.Pause=2]="Pause",e[e.Over=3]="Over",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/explosion.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,i,a,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.CCInteger,l=e.Component}],execute:function(){var s,u,p,f,y;i._RF.push({},"02536+pExNFzJy0ulaV6lRi","explosion",void 0);var h=a.ccclass,v=a.property;e("Explosion",(s=h("Explosion"),u=v(c),s((y=t((f=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"removeDelay",y,r(t)),t}n(t,e);var i=t.prototype;return i.start=function(){},i.onLoad=function(){var e=this;this.scheduleOnce((function(){e.node.destroy()}),this.removeDelay)},i.update=function(e){},t}(l)).prototype,"removeDelay",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/gameContext.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts"],(function(e){var t,n,a;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy},function(e){a=e.GameStatus}],execute:function(){n._RF.push({},"2f9d9Cfu3JDsqKca2Ts7Wa+","gameContext",void 0),e("GameContext",function(){function e(){this.presetMessages=["不是我小瞧你，只是我相信你已经尽力了","一次的失败不代表什么，只要你不放弃，你就还有机会继续失败","不要气馁，再战再败","只要肯努力，前面还有很多的失败在等你","失败并不可怕，可怕的是你还相信这句话","有时候不努力一下，不知道什么叫绝望","低处未算低，你还可以做得更差的","好好玩下去，每次都有新打击","不要在意别人的眼光，因为别人根本没有在看你","不要放弃，你下次还可以更糟糕","先不要失望，因为接下来你会失望很多次","不要灰心，因为你还有很多次灰心的机会","这次输了不要紧，因为下次还是会输"],this.gameStatus=a.Start,this.score=0,this.gameTime=0,this.life=3,this.lastEnemyTime=0,this.lastAwardTime=0,this.levelSetting={enemyInterval:1,enemyShootThreshold:1,enemyShootSpeed:100,enemyShootInterval:1,enemySpeed:300,awardInterval:5,levelUpScore:100,levelName:"",level:1}}var n=e.prototype;return n.useGameLevel=function(e){this.levelSetting={enemyInterval:e.enemyInterval,enemyShootThreshold:e.enemyShootThreshold,enemyShootSpeed:e.enemyShootSpeed,enemyShootInterval:e.enemyShootInterval,enemySpeed:e.enemySpeed,awardInterval:e.awardInterval,levelUpScore:e.levelUpScore,levelName:e.levelName,level:e.level}},n.reset=function(){this.gameStatus=a.Start,this.score=0,this.gameTime=0,this.life=3,this.lastEnemyTime=0,this.lastAwardTime=0},n.shouldCreateEnemy=function(e){return this.lastEnemyTime+=e,this.lastEnemyTime>=this.levelSetting.enemyInterval&&(this.lastEnemyTime=0,!0)},n.shouldCreateAward=function(e){return this.lastAwardTime+=e,this.lastAwardTime>=this.levelSetting.awardInterval&&(this.lastAwardTime=0,!0)},n.randomEnemyShoot=function(){return Math.random()>=this.levelSetting.enemyShootThreshold},t(e,null,[{key:"instance",get:function(){return null==e._instance&&(e._instance=new e),e._instance}}]),e}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/gameLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,i,l,a,o,u,c,p,m,b;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.CCInteger,u=e.CCFloat,c=e.CCString,p=e.SpriteFrame,m=e.AudioClip,b=e.Component}],execute:function(){var f,y,g,s,v,h,S,d,w,z,C,I,F,L,B,_,A,D,T,k,G,N,P,R,U;l._RF.push({},"b897fZ5tsZKcaAh09X/Xk1f","gameLevel",void 0);var X=a.ccclass,Z=a.property;e("GameLevel",(f=X("GameLevel"),y=Z(o),g=Z(u),s=Z(u),v=Z(o),h=Z(o),S=Z(u),d=Z(u),w=Z(o),z=Z(c),C=Z(p),I=Z(m),f((B=r((L=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return r=e.call.apply(e,[this].concat(l))||this,n(r,"level",B,i(r)),n(r,"enemyInterval",_,i(r)),n(r,"enemyShootThreshold",A,i(r)),n(r,"enemyShootSpeed",D,i(r)),n(r,"enemySpeed",T,i(r)),n(r,"enemyShootInterval",k,i(r)),n(r,"awardInterval",G,i(r)),n(r,"levelUpScore",N,i(r)),n(r,"levelName",P,i(r)),n(r,"gameBgSpriteFrame",R,i(r)),n(r,"gameBgm",U,i(r)),r}return t(r,e),r}(b)).prototype,"level",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=r(L.prototype,"enemyInterval",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=r(L.prototype,"enemyShootThreshold",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=r(L.prototype,"enemyShootSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),T=r(L.prototype,"enemySpeed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),k=r(L.prototype,"enemyShootInterval",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),G=r(L.prototype,"awardInterval",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),N=r(L.prototype,"levelUpScore",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),P=r(L.prototype,"levelName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=r(L.prototype,"gameBgSpriteFrame",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=r(L.prototype,"gameBgm",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=L))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/gameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./enemy.ts","./YMoveable.ts","./Enums.ts","./gameContext.ts","./dialog.ts","./toast.ts","./gameLevel.ts","./bg.ts","./player.ts","./Utils.ts"],(function(e){var t,n,i,o,a,s,l,r,c,h,g,u,p,m,d,f,b,y,S,v,x,C,w,M,I,P,L,z,A,G,T,D,k,B,E,O,R,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,l=e._decorator,r=e.CCInteger,c=e.Prefab,h=e.Sprite,g=e.Node,u=e.CCBoolean,p=e.Button,m=e.AudioClip,d=e.director,f=e.Canvas,b=e.UITransform,y=e.tween,S=e.v3,v=e.AudioSource,x=e.instantiate,C=e.sys,w=e.PhysicsSystem2D,M=e.EPhysics2DDrawFlags,I=e.clamp,P=e.Label,L=e.Component},function(e){z=e.Enemy},function(e){A=e.YMoveable},function(e){G=e.GameStatus,T=e.MoveDirection},function(e){D=e.GameContext},function(e){k=e.Dialog},function(e){B=e.Toast},function(e){E=e.GameLevel},function(e){O=e.bg},function(e){R=e.Player},function(e){_=e.Utils}],execute:function(){var U,N,F,H,j,V,Y,K,W,X,q,J,Q,Z,$,ee,te,ne,ie,oe,ae,se,le,re;s._RF.push({},"c17f6cPyF5EPKhkt8XN0uRl","gameManager",void 0);var ce=l.ccclass,he=l.property;e("GameManager",(U=ce("GameManager"),N=he(r),F=he(c),H=he(c),j=he(h),V=he(g),Y=he(c),K=he(u),W=he(p),X=he(g),q=he(m),U(((re=function(e){function t(){var n;return n=e.call(this)||this,i(n,"beginGameLevelIndex",Z,o(n)),i(n,"gameLevels",$,o(n)),n.currentLevelIndex=0,i(n,"weaponTypes",ee,o(n)),i(n,"player",te,o(n)),i(n,"bg",ne,o(n)),i(n,"enemyPrefab",ie,o(n)),i(n,"isDebug",oe,o(n)),i(n,"btnBack",ae,o(n)),i(n,"lblScore",se,o(n)),i(n,"readyGoSound",le,o(n)),n.context=null,n.beginingAnimation=null,n.beginingAnimationIsRunning=!1,t._instance=o(n),n.context=D.instance,n}n(t,e);var s=t.prototype;return s.adjustLayout=function(){var e=this,t=d.getScene().getComponentInChildren(f).getComponent(b).contentSize;this.btnBack.node.setPosition(-(.9*t.width-this.btnBack.getComponent(b).contentSize.width)/2,(.9*t.height-this.btnBack.getComponent(b).contentSize.height)/2),this.lblScore.setPosition(0,(.9*t.height-this.lblScore.getComponent(b).contentSize.height)/2);var n=this.player.node.getComponent(b).contentSize;_.isLanscape()?this.player.node.setPosition(-t.width/2-n.width/2,0):this.player.node.setPosition(0,-t.height/2-n.height/2),this.player.node.setScale(3,3),this.beginingAnimationIsRunning=!0,this.beginingAnimation=y(this.player.node).to(3,{position:S(0,0,0)},{easing:"expoOut"}).call((function(){e.beginingAnimationIsRunning=!1})).start(),y(this.player.node).to(3,{scale:S(1,1,1)},{easing:"expoOut"}).start(),B.show("Ready\nGo!",3,(function(){e.btnBack.node.on(g.EventType.TOUCH_END,e.onBackBtnClick,e),e.context.gameStatus=G.Playing})),this.scheduleOnce((function(){var t=(new g).addComponent(v);t.clip=e.readyGoSound,t.play()}),.5)},s.scoreAdd=function(e){void 0===e&&(e=1),this.context.score=this.context.score+e,this.context.score>=this.context.levelSetting.levelUpScore&&this.context.levelSetting.levelUpScore>0&&this.currentLevelIndex++,this.currentLevelIndex<this.gameLevels.length&&this.changeGameLevel(this.currentLevelIndex)},s.changeGameLevel=function(e){var t=this.gameLevels[e],n=x(t).getComponent(E);this.context.useGameLevel(n),this.bg.getComponent(O).setBackGroundFrame(n.gameBgSpriteFrame)},s.pauseGame=function(){var e=this;this.context.gameStatus=G.Pause,k.show("空中斗士","确认退出游戏？",[{label:"退出游戏",action:function(t,n){e.context.gameStatus=G.Over,d.loadScene("home")}},{label:"继续游戏",action:function(t,n){e.context.gameStatus=G.Playing}}])},s.endGame=function(){this.context.gameStatus=G.Over;var e=this.context.score,t=(parseInt(C.localStorage.getItem("lastScore")),parseInt(C.localStorage.getItem("maxScore"))),n=isNaN(t)?0:t;n=Math.max(n,e),C.localStorage.setItem("lastScore",e.toString()),C.localStorage.setItem("maxScore",n.toString());var i=Math.floor(Math.random()*this.context.presetMessages.length),o=[{label:"返回主页",action:function(e,t){t.dismiss(),d.loadScene("home")}},{label:"重新开始",action:function(e,t){t.dismiss(),d.loadScene("gameplay")}}];if(C.platform===C.Platform.WECHAT_GAME&&"undefined"!=typeof wx){var a="我在空中斗士中获得了"+e+"分，快来挑战我吧！";o.push({label:"求助好友",action:function(e,t){wx.shareAppMessage({title:a,success:function(){console.log("转发成功"),d.loadScene("home")},fail:function(){console.log("转发失败"),d.loadScene("home")}})}}),o.push({label:"救助朋友圈",action:function(e,t){wx.shareAppMessage({title:a,success:function(){console.log("转发成功"),d.loadScene("home")},fail:function(){console.log("转发失败"),d.loadScene("home")}})}})}k.show("挑战失败",this.context.presetMessages[i]+"\n\n今次成绩为："+e+"\n最佳成绩为："+n,o,!1,!1)},s.start=function(){var e=this;this.player.getComponent(R).destoryCallback=function(t){e.endGame()},this.currentLevelIndex=this.beginGameLevelIndex,this.changeGameLevel(this.currentLevelIndex),this.context.reset(),w.instance.enable=!0,this.isDebug?w.instance.debugDrawFlags=M.All:w.instance.debugDrawFlags=M.None,this.adjustLayout(),C.isMobile?d.getScene().getComponentInChildren(f).node.on(g.EventType.TOUCH_MOVE,this.onTouchMoveOfCanvas,this):this.player.node.on(g.EventType.TOUCH_MOVE,this.onMouseMoveOfPlayer,this)},s.onMouseMoveOfPlayer=function(e){if((this.context.gameStatus==G.Playing||this.context.gameStatus==G.Start)&&(null!=this.beginingAnimation&&this.beginingAnimationIsRunning&&(this.beginingAnimationIsRunning=!1,this.beginingAnimation.stop()),null!=this.player&&null!=this.player.node)){var t=e.getUILocation(),n=this.player.node.parent.getComponent(b).convertToNodeSpaceAR(S(t.x,t.y,0)),i=d.getScene().getComponentInChildren(f).node.getComponent(b).contentSize,o=this.player.node.getComponent(b).contentSize;n.x=I(n.x,-i.width/2+o.width/2,i.width/2-o.width/2),n.y=I(n.y,-i.height/2+o.height/2,i.height/2-o.height/2),this.player.node.setPosition(n)}},s.onTouchMoveOfCanvas=function(e){if((this.context.gameStatus==G.Playing||this.context.gameStatus==G.Start)&&(null!=this.beginingAnimation&&this.beginingAnimationIsRunning&&(this.beginingAnimationIsRunning=!1,this.beginingAnimation.stop()),null!=this.player&&null!=this.player.node)){var t=this.player.node.position,n=e.getDelta(),i=t.x+n.x/2,o=t.y+n.y/2,a=d.getScene().getComponentInChildren(f).node.getComponent(b).contentSize,s=this.player.node.getComponent(b).contentSize;i=I(i,-a.width/2+s.width/2,a.width/2-s.width/2),o=I(o,-a.height/2+s.height/2,a.height/2-s.height/2),this.player.node.setPosition(i,o)}},s.onBackBtnClick=function(e){this.context.gameStatus!=G.Start&&this.context.gameStatus!=G.Playing||this.pauseGame()},s.cloneNode=function(){},s.renderAwards=function(){if(this.weaponTypes.length>0){var e=Math.round(Math.random()*(this.weaponTypes.length-1)),t=this.weaponTypes[e],n=x(t),i=n.getComponent(A);i.speed=200;var o=d.getScene().getComponentInChildren(f).node,a=o.getComponent(b).contentSize,s=n.getComponent(b).contentSize.width,l=n.getComponent(b).contentSize.height;if(_.isLanscape()){i.direction=T.MoveLeft;var r=Math.random()*(a.height-l)-(a.height-l)/2,c=(a.width-s)/2;n.setPosition(c,r)}else{i.direction=T.MoveDown;var h=Math.random()*(a.width-s)-(a.width-s)/2,g=(a.height-l)/2;n.setPosition(h,g)}n.parent=o,n.active=!0}},s.renderEnemies=function(){var e=this,t=x(this.enemyPrefab),n=t.getComponent(z);n.speed=Math.random()*this.context.levelSetting.enemySpeed+this.context.levelSetting.enemySpeed,n.destoryCallback=function(t){e.scoreAdd()},n.bulletInterval=this.context.levelSetting.enemyShootInterval,n.bulletSpeed=Math.random()*this.context.levelSetting.enemyShootSpeed+50,n.target=this.player;var i=d.getScene().getComponentInChildren(f).node,o=i.getComponent(b).contentSize,a=t.getComponent(b).contentSize.width,s=t.getComponent(b).contentSize.height;if(_.isLanscape()){var l=Math.random()*(o.height-s)-(o.height-s)/2,r=(o.width-a)/2;n.direction=T.MoveLeft,t.setPosition(r,l)}else{var c=Math.random()*(o.width-a)-(o.width-a)/2,h=(o.height-s)/2;n.direction=T.MoveDown,t.setPosition(c,h)}t.parent=i,t.active=!0},s.update=function(e){var t=this.context.score,n=this.context.levelSetting.levelUpScore,i=this.context.levelSetting.level;this.context.levelSetting.levelName;this.lblScore.getComponent(P).string="关卡 "+i+" 分数 "+t+(n>0?" 目标 "+n:""),this.context.gameStatus==G.Playing&&(this.context.shouldCreateEnemy(e)&&this.renderEnemies(),this.context.shouldCreateAward(e)&&this.renderAwards())},a(t,null,[{key:"instance",get:function(){return t._instance}}]),t}(L))._instance=null,Z=t((Q=re).prototype,"beginGameLevelIndex",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$=t(Q.prototype,"gameLevels",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(Q.prototype,"weaponTypes",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(Q.prototype,"player",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Q.prototype,"bg",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Q.prototype,"enemyPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(Q.prototype,"isDebug",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=t(Q.prototype,"btnBack",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(Q.prototype,"lblScore",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(Q.prototype,"readyGoSound",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=Q))||J));s._RF.pop()}}}));

System.register("chunks:///_virtual/home.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){var e,n,o,i,r,a,l,u,s,c,h,p,g,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,u=t.Button,s=t.director,c=t.Canvas,h=t.UITransform,p=t.Sprite,g=t.clamp,f=t.Component},function(t){m=t.Utils}],execute:function(){var y,d,b,C,S,v,z,B,L,P,w;r._RF.push({},"d4b4dqffnhOBa0WtIkO/wEt","home",void 0);var j=a.ccclass,F=a.property;t("home",(y=j("home"),d=F(l),b=F(l),C=F(l),S=F(u),y((B=e((z=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"bg",B,i(e)),o(e,"title",L,i(e)),o(e,"playerPhoto",P,i(e)),o(e,"startButton",w,i(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.startButton.node.on(l.EventType.TOUCH_END,this.onStartButtonClick,this)},r.adjustLayout=function(){console.log("adjustLayout"),m.adjustWinSize();var t=s.getScene().getComponentInChildren(c).getComponent(h).contentSize;if(console.log(t),m.isLanscape()){var e=this.bg.getComponent(p);e.spriteFrame=m.rotateSpriteFrame(e.spriteFrame)}var n=this.playerPhoto.getComponent(h).contentSize,o=this.title.getComponent(h).contentSize,i=this.startButton.getComponent(h).contentSize;this.bg.getComponent(h).setContentSize(t),this.title.setPosition(0,g(n.height/2+o.height/2,o.height/2,t.height/2-o.height/2)),this.startButton.node.setPosition(0,g(-n.height/2-i.height/2,-i.height/2,-t.height/2+i.height/2))},r.onLoad=function(){this.adjustLayout()},r.onStartButtonClick=function(t){s.loadScene("gameplay")},r.update=function(t){},e}(f)).prototype,"bg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(z.prototype,"title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(z.prototype,"playerPhoto",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(z.prototype,"startButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=z))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./bg.ts","./bullet.ts","./button.ts","./Enums.ts","./PhysicsObject.ts","./Utils.ts","./YMoveable.ts","./explosion.ts","./enemy.ts","./gameContext.ts","./gameLevel.ts","./gameManager.ts","./home.ts","./player.ts","./dialog.ts","./toast.ts","./weapon.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PhysicsObject.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,s,c,i,r;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){e=t.cclegacy,s=t._decorator,c=t.Collider2D,i=t.Contact2DType,r=t.Component}],execute:function(){var l;e._RF.push({},"3b617cryLJFgYs7T8QXWx8M","PhysicsObject",void 0);var a=s.ccclass;s.property,t("PhysicsObject",a("PhysicsObject")(l=function(t){function e(){for(var n,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this)._destoryCallback=function(t){},n}n(e,t);var s=e.prototype;return s.start=function(){var t=this.getComponent(c);t&&(t.on(i.BEGIN_CONTACT,this.onCollisionEnter,this),t.on(i.END_CONTACT,this.onCollisionOut,this))},s.onCollisionEnter=function(t,n){},s.onCollisionOut=function(t,n){},o(e,[{key:"destoryCallback",get:function(){return this._destoryCallback},set:function(t){this._destoryCallback=t}}]),e}(r))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./bullet.ts","./PhysicsObject.ts","./explosion.ts","./enemy.ts","./weapon.ts","./Enums.ts","./gameContext.ts","./Utils.ts"],(function(e){var t,n,i,o,r,l,s,a,u,p,h,g,c,d,b,f,m,S,y,v,C,B,P,z,x,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,s=e.Prefab,a=e.AudioClip,u=e.ProgressBar,p=e.Sprite,h=e.instantiate,g=e.UITransform,c=e.Node,d=e.AudioSource,b=e.director,f=e.Canvas},function(e){m=e.Bullet},function(e){S=e.PhysicsObject},function(e){y=e.Explosion},function(e){v=e.Enemy},function(e){C=e.Weapon},function(e){B=e.BulletTargetType,P=e.GameStatus,z=e.MoveDirection},function(e){x=e.GameContext},function(e){w=e.Utils}],execute:function(){var F,O,T,I,L,W,D,k,M,j,E,R,U,_,A;r._RF.push({},"56847Yz3bdM0q9LfRbY5Bxf","player",void 0);var G=l.ccclass,N=l.property;e("Player",(F=G("Player"),O=N(s),T=N(s),I=N(a),L=N(a),W=N(s),D=N(u),F((j=t((M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).lastShootTime=0,t.bulletSetting=void 0,i(t,"defaultWeapon",j,o(t)),i(t,"bulletPrefab",E,o(t)),i(t,"fireSound",R,o(t)),i(t,"pickupSound",U,o(t)),i(t,"explosionPrefab",_,o(t)),t.explosionNode=null,i(t,"progressBar",A,o(t)),t}n(t,e);var r=t.prototype;return r.start=function(){e.prototype.start.call(this),this.lastShootTime=this.bulletSetting.bulletInterval},r.useWeapon=function(e){this.bulletSetting={playerSpriteFrame:e.playerSpriteFrame,bulletSpeed:e.bulletSpeed,bulletInterval:e.bulletInterval,bulletDamage:e.bulletDamage,numberOfBullets:e.numberOfBullets,bulletSpriteFrame:e.bulletSpriteFrame,duration:e.duration},null!=e.playerSpriteFrame&&(this.node.getComponent(p).spriteFrame=this.bulletSetting.playerSpriteFrame),e.duration>0?(this.progressBar.progress=1,this.progressBar.node.active=!0):this.progressBar.node.active=!1},r.onCollisionEnter=function(e,t){var n,i=this;if(this.node.active)if(null!=t.node.getComponent(v)||(null==(n=t.node.getComponent(m))?void 0:n.targetType)==B.ToPlayer){if(this.node.active=!1,x.instance.gameStatus=P.Over,this.explosionPrefab){var o=h(this.explosionPrefab);o.setPosition(this.node.position),o.parent=this.node.parent,o.getComponent(g).setContentSize(this.node.getComponent(g).contentSize),o.getComponent(y).removeDelay=.2,o.active=!0}this.node.removeFromParent(),this.scheduleOnce((function(){null!=i.destoryCallback&&i.destoryCallback(i),i.node.destroy()}),.5)}else if(null!=t.node.getComponent(C)){var r=(new c).addComponent(d);r.clip=this.pickupSound,r.play(),this.useWeapon(t.node.getComponent(C))}},r.adjustLayout=function(){if(w.isLanscape()){this.node.angle=-90,this.progressBar.node.angle=90;var e=this.progressBar.getComponent(g).contentSize;this.progressBar.totalLength=this.node.getComponent(g).contentSize.height+20,this.progressBar.node.getComponent(g).setContentSize(this.progressBar.totalLength,e.height),this.progressBar.node.setPosition(this.node.getComponent(g).contentSize.width/2+this.progressBar.getComponent(g).contentSize.height,-20)}this.node.setSiblingIndex(10)},r.onLoad=function(){this.adjustLayout(),null!=this.defaultWeapon&&this.useWeapon(h(this.defaultWeapon).getComponent(C))},r.update=function(e){x.instance.gameStatus==P.Playing&&(this.lastShootTime+=e,this.lastShootTime>=this.bulletSetting.bulletInterval&&(this.shoot(),this.lastShootTime=0),this.progressBar.node.active&&(this.progressBar.progress-=e/this.bulletSetting.duration,this.progressBar.progress<=0&&(this.progressBar.node.active=!1,this.useWeapon(h(this.defaultWeapon).getComponent(C)))))},r.shoot=function(){var e=this.node.getComponent(g).contentSize,t=e.width;this.bulletSetting.numberOfBullets>4&&(t=e.width*Math.min(this.bulletSetting.numberOfBullets/4,1.5));for(var n=1;n<=this.bulletSetting.numberOfBullets;n++){var i=h(this.bulletPrefab),o=i.getComponent(m);if(o.speed=this.bulletSetting.bulletSpeed,o.sender=this,o.damage=this.bulletSetting.bulletDamage,null!=this.bulletSetting.bulletSpriteFrame&&(i.getComponent(p).spriteFrame=this.bulletSetting.bulletSpriteFrame),w.isLanscape()){o.direction=z.MoveRight;var r=this.node.position.y+t*n/(this.bulletSetting.numberOfBullets+1)-t/2;i.setPosition(this.node.position.x,r)}else{o.direction=z.MoveUp;var l=this.node.position.x+t*n/(this.bulletSetting.numberOfBullets+1)-t/2;i.setPosition(l,this.node.position.y)}i.parent=b.getScene().getComponentInChildren(f).node,i.angle=this.node.angle,i.active=!0,i.setSiblingIndex(this.node.getSiblingIndex()-1)}var s=(new c).addComponent(d);s.clip=this.fireSound,s.play()},t}(S)).prototype,"defaultWeapon",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(M.prototype,"bulletPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(M.prototype,"fireSound",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(M.prototype,"pickupSound",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(M.prototype,"explosionPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(M.prototype,"progressBar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=M))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/toast.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,a,s,i,o,r,c,l,u,g,h,p,d,m,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,r=t.CCInteger,c=t.resources,l=t.Prefab,u=t.instantiate,g=t.director,h=t.Canvas,p=t.Label,d=t.tween,m=t.v3,f=t.Component}],execute:function(){var v,y,C,L,b;i._RF.push({},"56f12J5GL5BKaq0WXPc4h1w","toast",void 0);var w=o.ccclass,P=o.property;t("Toast",(v=w("Toast"),y=P(r),v((b=e((L=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,a(e,"duration",b,s(e)),e.message="",e.callback=void 0,e.messageLines=[],e.actualMessageLength=0,e}n(e,t),e.show=function(t,n,a){return void 0===n&&(n=0),new Promise((function(s,i){c.load("prefabs/ui/toast",l,(function(i,o){var r=u(o);r.getComponent(e).duration=n,r.getComponent(e).callback=a,r.getComponent(e).message=t,r.setPosition(0,0),r.parent=g.getScene().getComponentInChildren(h).node,r.active=!0,s(r.getComponent(e))}))}))};var i=e.prototype;return i.playAnimation=function(t){var e=this;if(t<this.messageLines.length){var n=this.messageLines[t];this.node.getComponent(p).string=n,this.node.setScale(0,0);var a=this.duration*n.length/this.actualMessageLength;d(this.node).sequence(d().to(a/3,{scale:m(1,1,1)},{easing:"elasticOut"}),d().delay(a/3),d().to(a/3,{scale:m(0,0,0)},{easing:"elasticIn"})).call((function(){e.playAnimation(t+1)})).start()}else null!=this.callback&&this.callback(),this.node.destroy()},i.start=function(){var t=this;this.duration>0?(this.message.split("\n").forEach((function(e){null!=e&&e.trim().length>0&&(t.actualMessageLength=t.actualMessageLength+e.length,t.messageLines.push(e))})),this.node.getComponent(p).string="",this.playAnimation(0)):this.node.getComponent(p).string=this.message},i.update=function(t){},e}(f)).prototype,"duration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=L))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){var e,i,r,n,o,c,s,a,u,h,g;return{setters:[function(t){e=t.cclegacy,i=t._decorator,r=t.SpriteFrame,n=t.rect,o=t.size,c=t.view,s=t.screen,a=t.ResolutionPolicy,u=t.director,h=t.Canvas,g=t.UITransform}],execute:function(){var l;e._RF.push({},"19656OW3cBLgbNLUsY189cJ","Utils",void 0);var v=i.ccclass;i.property,t("Utils",v("Utils")(l=function(){function t(){}return t.rotateSpriteFrame=function(t){var e=t.texture,i=new r;i.texture=e;var c=t.rect;return i.rotated=!0,i.rect=n(c.y,c.x,e.height,e.width),i.originalSize=o(e.height,e.width),i.offset=t.offset,i.pivot.set(t.pivot.y,t.pivot.x),i},t.isLanscape=function(){var t=c.getViewportRect();return t.width>t.height},t.adjustWinSize=function(){var t=c.getViewportRect(),e=s.devicePixelRatio>1?s.devicePixelRatio:2,i=o(t.width/e,t.height/e);console.log("adjustWinSize",t,i),c.setDesignResolutionSize(i.width,i.height,a.EXACT_FIT),u.getScene().getComponentInChildren(h).getComponent(g).contentSize=i},t}())||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/weapon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YMoveable.ts","./gameContext.ts","./Enums.ts"],(function(e){var t,r,n,i,o,a,l,u,p,c,s,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.SpriteFrame,u=e.CCInteger,p=e.CCFloat,c=e.AudioSourceComponent},function(e){s=e.YMoveable},function(e){b=e.GameContext},function(e){f=e.GameStatus}],execute:function(){var m,y,d,g,h,v,S,w,z,C,F,D,B,E,I,P,_;o._RF.push({},"ae5feQqB1dLRaVEoEmV62l7","weapon",void 0);var x=a.ccclass,L=a.property;e("Weapon",(m=x("Weapon"),y=L(l),d=L(u),g=L(p),h=L(u),v=L(u),S=L(l),w=L(u),m((F=t((C=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"playerSpriteFrame",F,i(t)),n(t,"bulletSpeed",D,i(t)),n(t,"bulletInterval",B,i(t)),n(t,"bulletDamage",E,i(t)),n(t,"numberOfBullets",I,i(t)),n(t,"bulletSpriteFrame",P,i(t)),n(t,"duration",_,i(t)),t}r(t,e);var o=t.prototype;return o.start=function(){e.prototype.start.call(this)},o.onCollisionEnter=function(e,t){var r=this;this.node.removeFromParent();var n=this.node.getComponent(c);null!=n?(n.play(),this.scheduleOnce((function(){r.node.destroy()}),.5)):this.node.destroy()},o.update=function(t){b.instance.gameStatus!=f.Pause&&e.prototype.update.call(this,t)},t}(s)).prototype,"playerSpriteFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(C.prototype,"bulletSpeed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(C.prototype,"bulletInterval",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(C.prototype,"bulletDamage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=t(C.prototype,"numberOfBullets",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=t(C.prototype,"bulletSpriteFrame",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(C.prototype,"duration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=C))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/YMoveable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PhysicsObject.ts","./Enums.ts"],(function(t){var e,i,o,s,n,r,h,p,d,c,a,l,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,h=t.Enum,p=t.v3,d=t.director,c=t.Canvas,a=t.UITransform},function(t){l=t.PhysicsObject},function(t){f=t.MoveDirection}],execute:function(){var u,y,v,g,m;n._RF.push({},"e7650bwmoJBnqdZ7zkJBSXK","YMoveable",void 0);var M=r.ccclass,P=r.property;t("YMoveable",(u=M("YMoveable"),y=P({type:h(f)}),u((m=e((g=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).speed=100,o(e,"direction",m,s(e)),e.targetXY=p(0,0,0),e.fromPos=p(0,0,0),e}i(e,t);var n=e.prototype;return n.start=function(){t.prototype.start.call(this),this.fromPos=d.getScene().getComponentInChildren(c).getComponent(a).convertToWorldSpaceAR(this.node.position)},n.update=function(t){var e=d.getScene().getComponentInChildren(c).getComponent(a).contentSize.width,i=d.getScene().getComponentInChildren(c).getComponent(a).contentSize.height;if(this.direction==f.MoveUp)this.node.setPosition(this.node.position.x,this.node.position.y+this.speed*t);else if(this.direction==f.MoveDown)this.node.setPosition(this.node.position.x,this.node.position.y-this.speed*t);else if(this.direction==f.MoveLeft)this.node.setPosition(this.node.position.x-this.speed*t,this.node.position.y);else if(this.direction==f.MoveRight)this.node.setPosition(this.node.position.x+this.speed*t,this.node.position.y);else if(this.direction==f.MoveXY){var o=Math.abs(this.targetXY.x-this.fromPos.x),s=Math.abs(this.targetXY.y-this.fromPos.y),n=Math.sqrt(o*o+s*s),r=this.node.position.x,h=this.node.position.y;this.targetXY.y>this.fromPos.y?h+=this.speed*(s/n)*t:h-=this.speed*(s/n)*t,this.targetXY.x>this.fromPos.x?r+=this.speed*(o/n)*t:r-=this.speed*(o/n)*t,this.node.setPosition(r,h)}(this.node.position.y<=-i/2||this.node.position.y>=i/2||this.node.position.x<=-e/2||this.node.position.x>=e/2)&&this.node.destroy()},e}(l)).prototype,"direction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f.MoveUp}}),v=g))||v));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});